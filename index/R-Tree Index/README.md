
# R-Tree 인덱스

---

> `위키백과` <br>
> `R-Tree`는 `B-Tree`와 비슷하지만 다차원의 공간 데이터를 저장하는 색인이다.
> 
> `R-Tree`자료구조는 공간을 최소 경계 사각형(MBR)들로 분할하여 저장한다.
> MBR끼리는 겹칠 수 있고, 상위 레벨의 MBR은 하위 레벨의 MBR들을 포함하는 계층적인 트리구조이다.
> 각 노드는 미리 정의된 범위내에서 유동적인 개수의 자식 노드들의 정보를 가진다.

<br>
R-Tree는 기본적인 내부 메커니즘은 B-Tree와 흡사하지만, B-Tree는 인덱스를 구성하는 컬럼의 값이 1차원의 스칼라 값인 반면에, R-Tree 인덱스는 2차원의 공간 개념 값이라는 것이다.


---

### 📑 어디에 사용하는데??

지도 or GPS 서비스를 내장한 스마트 폰이 대중화 되면서 GIS와 GPS에 기반을 둔 서비스들이 많이 나타나거나, 확장되고 있다.

위치 기반의 서비스를 구현하는 방법에는 여러가지가 있지만. MySQL에서 제공하는 공간확장을 이용하면 간단하게 서비스를 구현할 수 있다.

MySQL에서 제공하는 공간확장은 크게 3가지 기능이 포함되어 있다.

🌟 공간 데이터를 저장할 수 있는 데이터 타입

🌟 공간 데이터의 검색을 위한 공간 인덱스(R-Tree 알고리즘)

🌟 공간 데이터의 연산 함수(거리 or 포함 관계의 처리 )



---

### 📑 MBR ( Minimum Bounding Rectangle)
`MBR`은 도형을 감싸는 최소 크기의 사각형을 의미한다. 해당 사각형들의 포함 관계를 
B-Tree형태로 구현한 인덱스가 R-Tree이다.

MySQL은 공간 정보의 저장 및 검색을 위해 기하학적 도형 정보를 관리할 수 있는 타입을 제공하는데. 대표적으로 지원하는 데이터 타입은 아래의 이미지와 같다.


<img src="base.jpg" width="450"/>

<br>

<img src="base_1.jpg.jpg" width="450"/>



