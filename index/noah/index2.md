
## 8.5 전문 검색 인덱스

---

> 전문 검색이란? 게시물의 내용이나 제목 등과 같이 문장이나 문서의 내용에서 키워드를 검색을 뜻한다.
> 전문 검색 인덱스란 ? 문서 내용 전체에 대한 분석과 검색을 위한 인덱싱 알고리즘을 전문 검색 인덱스라 한다.

+ 전문(Full Text) 검색에는 InnoDB 나 MyISAM 스토리지 엔진에서 제공하는 기본적으로 제공하는 B-Tree 인덱스는 사용할 수 없다. 
+ 전문검색은 이름이나 별명(닉네임) 과 같은 단어에서 일부만 일치하는 사용자를 검색하는 기능으로도 사용 할 수 있습니다.
  + 전문 검색은 LIKE 기능과 같이 패턴 일치 검색 기능(LIKE = (%%)을 사용한)  일부만 검색하는 경우에도 인덱스를 탄다.

### 8.5.1 인덱스 알고리즘

---

#### 8.5.1.1 어근 분석

---

> MySQL 서버의 전문 검색 인덱스는 두 가지 중요한 과정을 거쳐 색인 작업이 수행된다. 

- [ ] 불용어(stop word) 처리
  + 별 가치가 없는 단어를 모두 필터링해서 제거하는 작업을 의미한다.
  + 불용어의 개수는 보통 상수로 정의해서 사용한다.
  + 유연성을 위해서 불용어 자체를 데이터베이스화해서 사용자가 CRUD 를 구현하는 경우도 있다.
  + MySQL 서버는 불용어가 소스코드에 정의돼 있지만, 이를 무시하고 사용자가 별도로 불용어를 정의할 수 있다.
  

- [ ] 어근 분석(stemming)
  + 검색어로 선정된 단어의 뿌리인 원형을 찾는 작업이다.
  + 오픈소스 형태소 분석 라이브러리인 MeCab 을 프로그인 형태로 사용할 수 있게 지원한다.
  + 한글이나 일본어의 경우 영어와 같이 단어의 변형 자체는 거의 없기 때문에 어근 분석보단 문장의 형태소를 분석해서 명사와 조사를 구분하는 기능이 더 중요하다.
  + 서구권 언어를 위한 형태소 분석기는 MongoDB 에서 사용되는 Snowball 이라는 오픈 소스가 존재한다.

<br>

#### 8.5.1.2 n-gram 알고리즘

--- 

<br> 

